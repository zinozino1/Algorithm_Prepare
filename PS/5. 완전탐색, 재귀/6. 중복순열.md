```py

# check배열까진 완성했는데 출력을 순서대로 못함

import sys

input = sys.stdin.readline


def dfs(L, check, n, m):
    if L == m:
        for i in range(1, len(check)):
            if check[i] > 0:
                for _ in range(check[i]):
                    print(i, end=" ")
        print()
    else:
        for i in range(1, n + 1):
            check[i] += 1
            dfs(L + 1, check, n, m)
            check[i] -= 1

def sol():
    n, m = map(int, input().split())
    check = [0] * (n + 1)
    dfs(0, check, n, m)

sol()


# 답

import sys
sys.stdin=open("input.txt", "r")
def DFS(L):
    global cnt
    if L==m:
        for i in range(m):
            print(res[i], end=' ')
        print()
        cnt+=1
    else:
        for i in range(1, n+1):
            res[L]=i
            DFS(L+1)

if __name__=="__main__":
    n, m=map(int, input().split())
    res=[0]*n
    cnt=0
    DFS(0)
    print(cnt)
```
